<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冷氣模組終極版介紹與說明 - Simon IoT</title>
    <link rel="icon" href="img/favicon.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #f0f4f8;
            background-image:
                radial-gradient(at 0% 0%, hsla(210, 100%, 96%, 1) 0, transparent 50%),
                radial-gradient(at 100% 0%, hsla(210, 100%, 94%, 1) 0, transparent 50%),
                radial-gradient(at 100% 100%, hsla(210, 100%, 96%, 1) 0, transparent 50%),
                radial-gradient(at 0% 100%, hsla(210, 100%, 94%, 1) 0, transparent 50%);
            background-attachment: fixed;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(rgba(13, 79, 141, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(13, 79, 141, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            pointer-events: none;
            z-index: -1;
        }
    </style>
</head>

<body class="text-slate-800">

    <div class="container mx-auto max-w-3xl p-4 sm:p-6 md:p-8">

        <!-- 主要標題 -->
        <header class="text-center my-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-700">冷氣模組終極版</h1>
            <h2 class="text-2xl text-slate-700 mt-2">產品介紹與使用說明</h2>
        </header>

        <main class="bg-white rounded-2xl shadow-lg p-6 sm:p-8 space-y-8">

            <!-- 安裝位置參考 (重要引導) -->
            <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 rounded-r-lg">
                <div class="flex items-start">
                    <div class="flex-shrink-0">
                        <i class="fa-solid fa-circle-question text-emerald-600 mt-1"></i>
                    </div>
                    <div class="ml-3">
                        <h3 class="text-emerald-800 font-bold">還不知道模組該插在哪裡？</h3>
                        <p class="text-emerald-700 mt-1 mb-2">請務必先確認您的冷氣/除濕機安裝位置，以免插錯。</p>
                        <a href="where.html"
                            class="inline-block bg-emerald-600 text-white text-sm font-semibold px-4 py-2 rounded shadow hover:bg-emerald-700 transition-colors">
                            查看安裝位置圖解 &rarr;
                        </a>
                    </div>
                </div>
            </div>

            <!-- 產品介紹 (Collapsible) -->
            <details
                class="group border border-slate-200 rounded-xl overflow-hidden open:shadow-md transition-all duration-300">
                <summary
                    class="flex items-center justify-between p-4 cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors list-none select-none">
                    <h2 class="text-2xl font-bold text-slate-900">產品介紹</h2>
                    <span class="text-slate-500 group-open:rotate-180 transition-transform duration-300">
                        <i class="fa-solid fa-chevron-down"></i>
                    </span>
                </summary>

                <div class="p-6 border-t border-slate-200 bg-white">
                    <div class="space-y-4 text-lg text-slate-700">
                        <p class="text-slate-600">
                            ESPhome冷氣模組終極版，可自由切換<span
                                class="bg-blue-100 px-1 py-1 rounded-md ">國際、日立、三菱電機及大金</span>四種韌體，同時附贈這四種品牌的連接線，無須再為不同品牌尋找不同模組。
                        </p>
                        <p class="text-slate-600">
                            更換冷氣品牌時，僅需更換對應的連接線，並透過<span class="font-semibold">簡易的網頁介面</span>，
                            輕鬆點選幾下即可<span class="font-semibold">立即變更韌體</span>，模組便能完美支援新的冷氣。
                        </p>
                    </div>
                </div>
            </details>

            <!-- 接頭說明 (Collapsible) -->
            <details
                class="group border border-slate-200 rounded-xl overflow-hidden open:shadow-md transition-all duration-300">
                <summary
                    class="flex items-center justify-between p-4 cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors list-none select-none">
                    <h2 class="text-2xl font-bold text-slate-900">接頭說明</h2>
                    <span class="text-slate-500 group-open:rotate-180 transition-transform duration-300">
                        <i class="fa-solid fa-chevron-down"></i>
                    </span>
                </summary>

                <div class="p-6 border-t border-slate-200 bg-white">
                    <div class="space-y-6 text-lg text-slate-700">
                        <p class="text-slate-600">隨貨會附上以下七種接頭(國際x1、日立x1、三菱電機x1、大金x4)。<br>
                            下方為各廠牌接頭圖，點擊圖片可放大檢視：</p>

                        <!-- 圖片陳列廊 -->
                        <div class="grid grid-cols-4 sm:grid-cols-7 gap-3 sm:gap-4">
                            <!-- 7個圖片格子 -->
                            <img src="img/pa-cable.jpg" alt="國際"
                                class="gallery-img rounded-lg aspect-square object-cover w-full h-full cursor-pointer hover:opacity-75 transition-opacity shadow-md"
                                onclick="openModal(this, 0)">
                            <img src="img/ht-cable.jpg" alt="日立"
                                class="gallery-img rounded-lg aspect-square object-cover w-full h-full cursor-pointer hover:opacity-75 transition-opacity shadow-md"
                                onclick="openModal(this, 1)">
                            <img src="img/mh-cable.jpg" alt="三菱電機"
                                class="gallery-img rounded-lg aspect-square object-cover w-full h-full cursor-pointer hover:opacity-75 transition-opacity shadow-md"
                                onclick="openModal(this, 2)">
                            <img src="img/s403.jpg" alt="大金s403"
                                class="gallery-img rounded-lg aspect-square object-cover w-full h-full cursor-pointer hover:opacity-75 transition-opacity shadow-md"
                                onclick="openModal(this, 3)">
                            <img src="img/s403mini.jpg" alt="大金s403mini"
                                class="gallery-img rounded-lg aspect-square object-cover w-full h-full cursor-pointer hover:opacity-75 transition-opacity shadow-md"
                                onclick="openModal(this, 4)">
                            <img src="img/s21.jpg" alt="大金s21"
                                class="gallery-img rounded-lg aspect-square object-cover w-full h-full cursor-pointer hover:opacity-75 transition-opacity shadow-md"
                                onclick="openModal(this, 5)">
                            <img src="img/s21mini.jpg" alt="大金s21mini"
                                class="gallery-img rounded-lg aspect-square object-cover w-full h-full cursor-pointer hover:opacity-75 transition-opacity shadow-md"
                                onclick="openModal(this, 6)">
                        </div>

                        <div
                            class="text-red-600 font-bold text-base sm:text-lg p-4 bg-red-50 rounded-lg border border-red-200 text-center">
                            <span class="text-2xl block">⚠️ 請注意 ⚠️</span>
                            <span class="block mt-2">
                                <span class="bg-red-100 text-red-700 px-2 py-1 rounded-md">三菱電機</span> 與 <span
                                    class="bg-red-100 text-red-700 px-2 py-1 rounded-md">大金S21 mini</span> 接頭相同，但<span
                                    class="underline decoration-2">順序不同</span><br>請仔細看圖片! 避免接錯!
                            </span>
                        </div>
                    </div>
                </div>
            </details>

            <!-- 設定步驟 (Collapsible) -->
            <details
                class="group border border-slate-200 rounded-xl overflow-hidden open:shadow-md transition-all duration-300">
                <summary
                    class="flex items-center justify-between p-4 cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors list-none select-none">
                    <h2 class="text-2xl font-bold text-slate-900">設定步驟</h2>
                    <span class="text-slate-500 group-open:rotate-180 transition-transform duration-300">
                        <i class="fa-solid fa-chevron-down"></i>
                    </span>
                </summary>

                <div class="p-6 border-t border-slate-200 bg-white">
                    <ol class="list-decimal list-inside space-y-6 text-lg text-slate-700">

                        <!-- 步驟 1 -->
                        <li>
                            <span class="font-semibold">開啟 Wi-Fi 熱點：</span>
                            <p class="ml-6 mt-1 text-slate-600">從模組的 USB-C 孔上電後，等待約 30 秒，模組會自動建立一個 Wi-Fi 熱點名稱：<code
                                    class="bg-slate-200 text-slate-800 px-2 py-1 rounded-md font-mono">ac-ult</code></p>
                        </li>

                        <!-- 步驟 2 -->
                        <li>
                            <span class="font-semibold">連線至熱點：</span>
                            <p class="ml-6 mt-1 text-slate-600">熱點連線密碼為 <code
                                    class="bg-slate-200 text-slate-800 px-2 py-1 rounded-md font-mono">12345678</code>。連上後，在瀏覽器輸入網址
                                <a href="http://192.168.4.1" target="_blank"
                                    class="text-sky-600 hover:underline">192.168.4.1</a> 進入設定頁面。
                            </p>
                        </li>

                        <!-- 步驟 3 -->
                        <li>
                            <span class="font-semibold">設定 Wi-Fi 連線：</span>
                            <p class="ml-6 mt-1 text-slate-600">在設定頁面中，選擇您家中的 2.4GHz Wi-Fi 名稱，並輸入密碼，然後按下 <span
                                    class="font-bold">SAVE</span>。</p>
                        </li>

                        <!-- 步驟 4 -->
                        <li>
                            <span class="font-semibold">確認設備上線：</span>
                            <p class="ml-6 mt-1 text-slate-600">模組重啟後會自動連上您家中的 Wi-Fi。您可以在路由器的管理頁面看到新設備，其名稱後面會附加 MAC
                                位址以供辨識。
                            </p>
                        </li>

                        <!-- 步驟 5 (原始碼中標記為 6) -->
                        <li>
                            <span class="font-semibold">整合至 Home Assistant：</span>
                            <p class="ml-6 mt-1 text-slate-600">Home Assistant (HA) 通常會自動提示發現新設備，點擊加入即可。若無自動提示，請至 HA
                                的「設定」>「裝置與服務」>「新增整合」，搜尋並選擇 <span class="font-bold">ESPhome</span>，然後輸入模組的 IP 位址手動加入。</p>
                        </li>

                    </ol>
                </div>
            </details>

            <!-- 變更韌體 (Collapsible) -->
            <details
                class="group border border-slate-200 rounded-xl overflow-hidden open:shadow-md transition-all duration-300">
                <summary
                    class="flex items-center justify-between p-4 cursor-pointer bg-slate-50 hover:bg-slate-100 transition-colors list-none select-none">
                    <h2 class="text-2xl font-bold text-slate-900">變更韌體</h2>
                    <span class="text-slate-500 group-open:rotate-180 transition-transform duration-300">
                        <i class="fa-solid fa-chevron-down"></i>
                    </span>
                </summary>

                <div class="p-6 border-t border-slate-200 bg-white">
                    <div class="space-y-6 text-lg text-slate-700">
                        <p class="text-slate-600">
                            在瀏覽器輸入裝置的 IP 位址。如果您不知道 IP，可以從 Home Assistant (HA) 中找到(如下圖)：
                            <br>
                        </p>

                        <!-- 圖片佔位符 -->
                        <div class="my-6">
                            <!-- 圖片的佔位符 --><img src="img/visit.png" alt="ESPhome裝置介面示意圖" class="rounded-lg shadow-md">
                            <p class="text-center text-sm text-slate-500 mt-2">ESPhome裝置介面示意圖</p>
                        </div>
                        <p class="text-slate-600">
                            <span class="font-semibold text-slate-800">HA &gt; 設定 &gt; 裝置與服務 &gt; ESPhome &gt;
                                選擇該模組</span>後，點擊「<span class="font-semibold text-sky-600">造訪</span>」即可連到裝置 IP。
                        </p>
                        <br>
                        <!-- 圖片佔位符 -->
                        <div class="my-6">
                            <!-- 圖片的佔位符 --><img src="img/fwchange.png" alt="ESPhome 韌體變更介面"
                                class="rounded-lg shadow-md ">
                            <p class="text-center text-sm text-slate-500 mt-2">韌體變更網頁介面示意圖</p>
                        </div>

                        <p class="text-slate-600">在裝置IP網頁中（如上圖），請依照下列步驟變更韌體：</p>

                        <ol class="list-decimal list-inside space-y-5">
                            <li>
                                <span class="font-semibold">選擇韌體：</span>
                                <p class="ml-6 mt-1 text-slate-600">從「韌體選擇」的下拉選單中，選擇您欲變更的冷氣廠牌。</p>
                            </li>
                            <li>
                                <span class="font-semibold">執行變更：</span>
                                <p class="ml-6 mt-1 text-slate-600">按下「執行變更」右方的<span
                                        class="font-bold bg-sky-600 text-white px-3 py-1 rounded-md shadow">PRESS</span>按鈕。
                                </p>
                            </li>
                            <li>
                                <span class="font-semibold">耐心等待：</span>
                                <p class="ml-6 mt-1 text-slate-600">
                                    按下按鈕後，「韌體狀態」文字會依序顯示：
                                    <br>
                                    <code
                                        class="bg-blue-100 text-blue-800 px-2 py-1 rounded-md font-mono">OTA START</code>
                                    &rarr;
                                    <code
                                        class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-md font-mono">OTA RUNNING</code>
                                    &rarr;
                                    <code
                                        class="bg-green-100 text-green-800 px-2 py-1 rounded-md font-mono">OTA DONE</code>
                                    <br>
                                    <span class="font-bold text-red-600 mt-1 block">請務必等待直到顯示 "OTA
                                        DONE"，即代表韌體變更完成。</span>
                                </p>
                            </li>
                            <li>
                                <span class="font-semibold">重新設定：</span>
                                <p class="ml-6 mt-1 text-slate-600">
                                    完成後，模組將會重啟。這時候您<span class="font-semibold">可能需要重新設定 Wi-Fi</span> 並將裝置<span
                                        class="font-semibold">重新加入 Home Assistant</span>。
                                </p>
                            </li>
                            <li>
                                <span class="font-semibold">重複流程：</span>
                                <p class="ml-6 mt-1 text-slate-600">
                                    重新加入 HA 後，就能看到韌體已變更為所選廠牌。如要再次變更，請重複上述流程。
                                </p>
                            </li>
                        </ol>
                    </div>
                </div>
            </details>

            <!-- 聯絡方式 -->
            <div class="text-center border-t border-slate-200 pt-6">
                <h3 class="text-xl font-semibold text-slate-800">需要協助嗎？</h3>
                <p class="text-slate-600 mt-2">使用上如有任何疑問，請點下方加入官方 Line@ 帳號詢問。</p>
                <a href="https://line.me/R/ti/p/@066hhxou" target="_blank"
                    class="mt-4 text-2xl font-bold text-green-600 bg-green-50 hover:bg-green-100 transition-colors py-2 px-4 rounded-lg inline-block">@066hhxou</a>
            </div>

        </main>

        <!-- 頁腳回首頁按鈕 -->
        <div class="text-center mt-8">
            <a href="index.html"
                class="inline-block bg-sky-600 text-white font-semibold px-4 py-2 rounded-lg shadow hover:bg-sky-700 transition-colors">
                &larr; 回說明書目錄
            </a>
        </div>

        <!-- 頁腳 -->
        <footer class="text-center mt-6 text-slate-500 text-sm">
            <p>&copy; 2025 Simon IoT. All Rights Reserved.</p>
        </footer>
    </div>

    <!-- Modal (燈箱) for Image Enlargement -->
    <div id="imageModal" class="fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center p-4 z-50 hidden"
        onclick="closeModal()">
        <div class="relative max-w-3xl max-h-full" onclick="event.stopPropagation()">
            <img id="modalImage" src="" alt="放大的接頭圖片"
                class="max-w-full max-h-[90vh] rounded-lg shadow-lg object-contain">
            <p id="modalCaption" class="text-white text-center text-lg mt-2"></p>

            <!-- Previous Button --><button id="prevBtn"
                class="absolute left-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-30 hover:bg-opacity-50 text-white p-2 rounded-full text-3xl font-bold transition-all"
                onclick="navigateImage(-1)">&#10094;</button>

            <!-- Next Button --><button id="nextBtn"
                class="absolute right-4 top-1/2 -translate-y-1/2 bg-white bg-opacity-30 hover:bg-opacity-50 text-white p-2 rounded-full text-3xl font-bold transition-all"
                onclick="navigateImage(1)">&#10095;</button>
        </div>
        <button title="關閉 (Esc)"
            class="absolute top-4 right-6 text-white text-5xl font-light hover:text-slate-300 transition-colors"
            onclick="closeModal()">&times;</button>
    </div>

    <script>
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const modalCaption = document.getElementById('modalCaption');
        const galleryImages = document.querySelectorAll('.gallery-img'); // 獲取所有圖庫圖片
        let currentImageIndex = 0; // 當前顯示的圖片索引

        function openModal(element, index) {
            currentImageIndex = index;
            showImage(currentImageIndex);
            modal.classList.remove('hidden');
        }

        function showImage(index) {
            if (index < 0) {
                currentImageIndex = galleryImages.length - 1; // 循環到最後一張
            } else if (index >= galleryImages.length) {
                currentImageIndex = 0; // 循環到第一張
            } else {
                currentImageIndex = index;
            }

            const imgElement = galleryImages[currentImageIndex];
            // 替換縮圖 URL 為放大圖 URL
            modalImg.src = imgElement.src.replace(/200x200/g, '600x600');
            modalCaption.textContent = imgElement.alt; // 設置圖片說明
        }

        function navigateImage(direction) {
            showImage(currentImageIndex + direction);
        }

        function closeModal() {
            modal.classList.add('hidden');
        }

        // 按下 Escape 鍵關閉 Modal
        document.addEventListener('keydown', function (event) {
            if (event.key === 'Escape') {
                closeModal();
            } else if (event.key === 'ArrowLeft') { // 左箭頭
                if (!modal.classList.contains('hidden')) { // 只有在 Modal 開啟時才切換
                    navigateImage(-1);
                }
            } else if (event.key === 'ArrowRight') { // 右箭頭
                if (!modal.classList.contains('hidden')) { // 只有在 Modal 開啟時才切換
                    navigateImage(1);
                }
            }
        });
    </script>
</body>

</html>